<!doctype html>
<html lang="bn">
   <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Tenant Admin Terminal</title>
      <link rel="icon" href="https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/72x72/1f4ca.png">
      <link href="https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@400;700&display=swap" rel="stylesheet" />
      <link rel="stylesheet" href="style.css" />
   </head>
   <body>
      <div class="print-only"></div>
      <div id="login-screen">
         <div class="login-box">
            <h2>SECURITY PIN</h2>
            <input
               type="password"
               id="pin-input"
               maxlength="4"
               placeholder="****"
               onkeyup="if(event.key==='Enter') checkPin()"
               />
            <button onclick="checkPin()" class="btn-calc">ENTER</button>
         </div>
      </div>
      <div class="terminal-window">
         <div class="title-bar">
            <span class="dot red"></span><span class="dot yellow"></span><span class="dot green"></span>
            <span class="title-text">tenant_management_system --v2.0</span>
         </div>
         <div class="content">
            <div class="top-nav">
               <div class="config-item">
                  <label>ইউনিট প্রাইজ (৳):</label>
                  <input type="number" id="globalUnitRate" value="12" />
               </div>
               <div class="config-item">
                  <label>হিসাবের মাস:</label>
                  <input type="month" id="billingMonth" class="hidden-input" />
                  <div id="dynamicDateContainer" class="dynamic-date"></div>
               </div>
            </div>
            <div id="tenantAccordion" class="accordion"></div>
            <div class="footer-actions">
               <button onclick="calculateAll()" class="btn-calc">RUN CALCULATION</button>
               <button id="btn-undo" onclick="resetLastInput()" class="btn-undo" style="display:none; background-color: #d9534f; color: white;">RESET LAST INPUT</button>
               <button onclick="generatePrintView()" class="btn-save">PRINT BILLS</button>
               <button onclick="downloadBackup()" class="btn-save">DOWNLOAD BACKUP</button>
               <input type="file" id="importFile" style="display:none" onchange="importData(this)">
               <button class="btn-import" onclick="document.getElementById('importFile').click()">Upload Backup</button>
            </div>
            <div id="printArea" class="print-only">
               <table>
                  <thead>
                     <tr>
                        <th>
                           <div id="printHeader"></div>
                        </th>
                     </tr>
                  </thead>
                  <tbody>
                     <tr>
                        <td>
                           <div class="print-grid" id="printGrid"></div>
                        </td>
                     </tr>
                  </tbody>
               </table>
            </div>
         </div>
      </div>
      <div id="global-loader">
         <div class="hourglass-big">
            <svg viewBox="0 0 24 24" width="80" height="80">
               <path class="sand-top" d="M8 4h8v3.5l-4 4-4-4V4z" fill="#FFD700"/>
               <path d="M6 2v6h.01L6 8.01 10 12l-4 4 .01.01H6V22h12v-5.99h-.01L18 16l-4-4 4-3.99-.01-.01H18V2H6zm10 14.5V20H8v-3.5l4-4 4 4zM8 4h8v3.5l-4 4-4-4V4z" fill="white"/>
               <path class="sand-bottom" d="M16 16.5V20H8v-3.5l4-4 4 4z" fill="#FFD700"/>
            </svg>
         </div>
         <div id="loader-text"></div>
      </div>
      <script src="script.js"></script>
   </body>
</html>
